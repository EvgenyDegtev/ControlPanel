@model PagedList.PagedList<ControlPanel.Models.Skill>
@using PagedList.Mvc 

<h2>Index</h2>

<p>
	@Html.ActionLink("Добавить", "Create")
</p>

@using(Html.BeginForm("Index","Skills"))
{
	<p>
		<strong>ID навыка:</strong> <input type="text" name="searchString" value="@ViewBag.searchString"/>
		<input type="submit" value="Поиск" />
	</p>
}

<table class="table table-hover">
	<tr>
		<th>
			@Html.DisplayNameFor(model=>model.ToList().FirstOrDefault().Name)
		</th>
		<th>
			@Html.DisplayNameFor(model=>model.ToList().FirstOrDefault().Key)
		</th>
		<th>
			@Html.DisplayNameFor(model=>model.ToList().FirstOrDefault().Algorithm)
		</th>
		<th></th>
	</tr>

	@foreach(var skill in Model)
	{
		<tr>
			<td>
				@Html.DisplayFor(model=>skill.Name)
			</td>
			<td>
				@Html.DisplayFor(model=>skill.Key)
			</td>
			<td>
				@Html.DisplayFor(model=>skill.AlgorithmName)
			</td>
			<td>
				<a href=@Url.Action("Edit", new { id = skill.Id })><i class="fa fa-edit"></i></a>
				|
				<a href=@Url.Action("Delete", new { id = skill.Id })><i class="fa fa-close"></i></a>
			</td>
		</tr>
	}
</table>

Страница @(Model.PageCount<Model.PageNumber?0:Model.PageNumber) из @Model.PageCount
@Html.PagedListPager(Model, currentPage=>Url.Action("Index", new {page=currentPage, searchString=ViewBag.searchString }))

